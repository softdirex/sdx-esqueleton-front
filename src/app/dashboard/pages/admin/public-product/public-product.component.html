<div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center"
    style="min-height: 600px; background-image: url(assets/img/theme/products-cover.jpg); background-size: cover; background-position: center top;">
    <!-- Mask -->
    <span class="mask bg-gradient-danger opacity-8"></span>
    <!-- Header container -->
    <div class="container-fluid d-flex align-items-center">
        <div class="row">
            <div class="col-lg-7 col-md-10">
                <h1 class="display-2 text-white">{{ title }}</h1>
                <p class="text-white mt-0 mb-5">{{
                    ((sessionIsOpen)?'label.products-session-store-desc':'label.products-store-desc') | transloco }}</p>

            </div>
        </div>
    </div>
</div>
<div class="container-fluid mt--7">
    <div class="row">
        <div class="col-xl-4 order-xl-2 mb-5 mb-xl-0">
            <div class="card card-profile shadow">
                <div class="row justify-content-center">
                    <div class="col-lg-3 order-lg-2">
                        <div class="card-profile-image">
                            <a href="javascript:void(0)">
                                <img [src]="logoUrl">
                            </a>
                        </div>
                    </div>
                </div>
                <div class="card-header text-center border-0 pt-8 pt-md-4 pb-0 pb-md-4">
                    <div class="d-flex justify-content-between">
                    </div>
                </div>
                <div class="card-body pt-0 pt-md-4">
                    <div class="row">
                        <div class="col">
                            <div class="card-profile-stats d-flex justify-content-center mt-md-5">
                                <div>
                                    <span class="heading">{{ resource.name }}</span>
                                    <span class="description">{{ resource.description }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <h3>
                            {{ 'label.benefits' | transloco }}
                        </h3>
                    </div>
                    <ul class="list-unstyled">
                        <li>
                            <ul *ngFor="let item of resource.benefits">
                                <li>{{ item.text }}</li>
                            </ul>
                        </li>
                    </ul>
                    <div class="text-center">
                        <div *ngIf="resource.usages != null && resource.usages.length > 0">
                            <h3>
                                {{ 'label.category' | transloco }}<span class="font-weight-light"> {{
                                    formatType(resource.type) | transloco }}</span>
                            </h3>
                            <h3>
                                {{ 'label.usages' | transloco }}
                            </h3>
                            <span *ngFor="let item of resource.usages" class="badge badge-pill badge-default">
                                {{ item.text }}
                            </span>
                        </div>
                        <div *ngIf="resource.attachments != null && resource.attachments.length > 0">
                            <h3>
                                {{ 'label.attachments' | transloco }}
                            </h3>
                            <p *ngFor="let item of resource.attachments">
                                <button (click)="openPdf(item.path,item.filename)" class="btn btn-sm btn-success">
                                    {{ item.filename }}
                                </button>
                            </p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-8 order-xl-1">
            <div class="card bg-secondary shadow">
                <div class="card-header bg-white border-0">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <h3 class="mb-0">
                                {{ 'label.see-ours-plans' | transloco }}
                            </h3>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-xl-3 px-1" *ngFor="let item of resource.plans">
                            <div class="card card-stats mb-4 mb-lg-0">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <h5 class="card-title text-uppercase text-muted mb-0">{{
                                                categoryPlan(item.category) | transloco | uppercase }}</h5>
                                            <span class="h2 font-weight-bold mb-0">{{ formatType(item.type) |
                                                transloco}}</span>
                                        </div>
                                        <div class="col-auto">
                                            <div class="icon icon-shape bg-success text-white rounded-circle shadow">
                                                <i class="{{ getPlanIcon(item.category) }}"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <p *ngIf="item.discount_rate" class="mt-3 mb-0 text-muted">
                                        <span class="h2 font-weight-bold mb-0"><small><mark>{{ 'label.discount-rate' |
                                                    transloco: { discount: item.discount_rate } }}</mark></small></span>
                                    </p>

                                    <p class="mt-3 mb-0 text-muted text-sm">
                                        <span class="h2 font-weight-bold mb-0"><small>{{ item.name }}</small></span>
                                    </p>

                                    <p class="mt-3 mb-0 text-muted">
                                        <span class="text-bold">{{ item.description }}</span>
                                    </p>

                                    <p *ngIf="item.discount_rate > 0" class="mt-3 mb-0 text-muted text-sm">
                                        <span class="h2 font-weight-bold mb-0"><small><del>{{ getNormalPrice(item) }}/{{
                                                    'label.month' | transloco }}</del></small><br>{{ getPriceDesc(item)
                                            }}/{{ 'label.month' | transloco }}</span>
                                    </p>
                                    <p *ngIf="item.discount_rate == 0" class="mt-3 mb-0 text-muted text-sm">
                                        <span class="h2 font-weight-bold mb-0">{{ getPriceDesc(item) }}/{{ 'label.month'
                                            | transloco }}</span>
                                    </p>
                                    <span class="text-success text-sm mr-2">{{ 'label.valid-until' | transloco
                                        }}&nbsp;{{ item.expired_date | date:'dd-MM-yyyy' }} </span><br>
                                </div>
                                <div *ngIf="sessionIsOpen" class="card-footer">
                                    <div class="row">
                                        <div *ngIf="item.price"  class="col-6">
                                            <h6 *ngIf="item.discount_rate > 0">{{ 'label.total'|transloco}}&nbsp;<del>{{
                                                    item.currency + ' ' + item.price }}</del></h6>
                                            <h6 *ngIf="item.discount_rate == 0">{{ 'label.total'|transloco}}</h6>
                                            <h3>{{getTotalDesc(item)}}</h3>
                                        </div>
                                        <div class="col-6">
                                            <button class="btn btn-primary" (click)="apply(item.id)">{{ 'label.apply' |
                                                transloco }}</button>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="!sessionIsOpen" class="card-footer">
                                    <button class="btn btn-primary" (click)="apply(0)">{{ 'label.details' | transloco
                                        }}</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>