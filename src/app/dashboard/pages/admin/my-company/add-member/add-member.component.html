<div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center"
  style="min-height: 600px; background-image: url(assets/img/theme/customers-cover.jpg); background-size: cover; background-position: center top;">
  <!-- Mask -->
  <span class="mask bg-gradient-danger opacity-8"></span>
  <!-- Header container -->
  <div class="container-fluid d-flex align-items-center">
    <div class="row">
      <div class="col-lg-7 col-md-10">
        <h1 class="display-2 text-white">{{ 'label.adding-members' | transloco }}</h1>
        <p class="text-white mt-0 mb-5">{{ 'label.add-members-desc' | transloco }}</p>
      </div>
    </div>
  </div>
</div>
<div *ngIf="currentStep == STEP_DOCUMENT_DATA" class="container-fluid mt--7">
  <div class="row">
    <div class="col-xl-8 order-xl-1">
      <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">{{ 'label.check-identity' | transloco }}</h3>
            </div>
            <div class="col-4 text-right">
              <a [routerLink]="['/'+customersPath]" class="btn btn-sm btn-warning">{{ 'label.return' | transloco }}</a>
            </div>
          </div>
        </div>
        <div class="card-body">
          <form [formGroup]="fDocumentData">
            <h6 class="heading-small text-muted mb-4">{{ 'label.document-validation' | transloco }}</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-lg-4">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'label.country' | transloco }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="docCountry"
                      [matAutocomplete]="auto" (blur)="onKeyValidatorDocCountry()" (keyup)="onKeyValidatorDocCountry()"
                      required>
                    <span *ngIf="docCountry.errors" class="badge badge-danger">
                      {{ getErrorMessage(docCountry) | transloco }}</span>
                    <mat-autocomplete #auto="matAutocomplete">
                      <mat-option *ngFor="let optCountry of filteredCountriesDocumentData | async"
                        [value]="optCountry.name">
                        {{optCountry.name}}
                      </mat-option>
                    </mat-autocomplete>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'label.document-type' | transloco }}</label>
                    <select type="text" class="form-control form-control-alternative" formControlName="docType">
                      <option value="" selected disabled>{{ 'personal-data.document-type' | transloco }}</option>
                      <option *ngFor="let item of documentDataTypes" value="{{ item.value }}">
                        {{ item.name | transloco }}
                      </option>
                    </select>
                    <span *ngIf="docType.errors" class="badge badge-danger">
                      {{ getErrorMessage(docType) | transloco }}</span>
                  </div>
                </div>
                <div class="col-lg-4">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'label.document' | transloco }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="docValue">
                    <span *ngIf="docValue.errors" class="badge badge-danger">
                      {{ getErrorMessage(docValue) | transloco }}</span>
                  </div>
                </div>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Button -->

            <div class="pl-lg-4">
              <div class="form-group">
                <button class="btn btn-xl btn-info" [disabled]="fDocumentData.invalid" (click)="toStep2()">
                  {{ 'label.next' | transloco }}
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="currentStep == STEP_REGISTER" class="container-fluid mt--7">
  <div class="row">
    <div class="col-xl-8 order-xl-1">
      <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">{{ 'label.new-customer' | transloco }}</h3>
            </div>
            <div class="col-4 text-right">
              <button (click)="goStep(STEP_DOCUMENT_DATA)" class="btn btn-sm btn-warning">{{ 'label.return' | transloco
                }}</button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <form [formGroup]="fPersonalData">
            <h6 class="heading-small text-muted mb-4">{{ 'label.user-information' | transloco }}</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.name' | transloco }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="name"
                      [value]="name.value | nameformat">
                    <span *ngIf="name.errors" class="badge badge-danger">
                      {{ getErrorMessage(name) | transloco }}</span>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.last-name' | transloco }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="lastName"
                      [value]="lastName.value | nameformat">
                    <span *ngIf="lastName.errors" class="badge badge-danger">
                      {{ getErrorMessage(lastName) | transloco }}</span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.sex' | transloco }}</label>
                    <select type="text" class="form-control form-control-alternative" formControlName="gender">
                      <option value="" selected disabled>{{ 'personal-data.sex' | transloco }}</option>
                      <option *ngFor="let item of genderTypes" value="{{ item.value }}">
                        {{ item.name | transloco }}
                      </option>
                    </select>
                    <span *ngIf="gender.errors" class="badge badge-danger">
                      {{ getErrorMessage(gender) | transloco }}</span>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.birthday' | transloco }}</label>
                    <div class="input-group input-group-alternative">
                      <div class="input-group-prepend">
                        <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                      </div>
                      <input class="form-control datepicker" formControlName="birthday"
                        placeholder="{{ 'personal-data.birthday' | transloco }}" name="dp" [(ngModel)]="model"
                        ngbDatepicker #d="ngbDatepicker" [startDate]="startYear" [minDate]="minYear" [maxDate]="maxYear"
                        (click)="d.toggle()" type="text" />
                    </div>
                    <div *ngIf="birthday.errors">
                      <span class="badge badge-danger">{{ getErrorMessage(birthday) | transloco }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Address -->
            <h6 class="heading-small text-muted mb-4">{{ 'label.contact-information' | transloco }}</h6>
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.email' | transloco }}</label>
                    <input type="email" class="form-control form-control-alternative" formControlName="email">
                    <span *ngIf="email.errors" class="badge badge-danger">
                      {{ getErrorMessage(email) | transloco }}</span>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.phone' | transloco }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="phone">
                    <span *ngIf="phone.errors" class="badge badge-danger">
                      {{ getErrorMessage(phone) | transloco }}</span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.address' | transloco }}</label>
                    <input class="form-control form-control-alternative" formControlName="address" type="text"
                      [value]="address.value | nameformat">
                    <span *ngIf="address.errors" class="badge badge-danger">
                      {{ getErrorMessage(address) | transloco }}</span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-country">{{ 'personal-data.province' | transloco
                      }}</label>
                    <select class="form-control form-control-alternative" formControlName="provinceType">
                      <option value="" selected disabled>{{ 'personal-data.province' | transloco }}</option>
                      <option *ngFor="let item of provinceTypes" value="{{ item.value }}">
                        {{ item.name | transloco }}
                      </option>
                    </select>
                    <span class="badge badge-danger">{{ getErrorMessage(provinceType) | transloco }}</span>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label" for="input-country">{{ 'personal-data.province' | transloco
                      }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="provinceValue"
                      [value]="provinceValue.value | nameformat">
                    <span class="badge badge-danger">{{ getErrorMessage(provinceValue) | transloco }}</span>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.city' | transloco }}</label>
                    <input class="form-control form-control-alternative" formControlName="city" type="text"
                      [value]="city.value | nameformat">
                    <span *ngIf="city.errors" class="badge badge-danger">
                      {{ getErrorMessage(city) | transloco }}</span>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'personal-data.country' | transloco }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="country"
                      [matAutocomplete]="auto" (blur)="onKeyValidatorCountry()" (keyup)="onKeyValidatorCountry()"
                      required>
                    <span *ngIf="country.errors" class="badge badge-danger">
                      {{ getErrorMessage(country) | transloco }}</span>
                    <mat-autocomplete #auto="matAutocomplete">
                      <mat-option *ngFor="let optCountry of filteredCountriesPersonalData | async"
                        [value]="optCountry.name">
                        {{optCountry.name}}
                      </mat-option>
                    </mat-autocomplete>
                  </div>
                </div>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Button -->

            <div class="pl-lg-4">
              <div class="form-group">
                <button class="btn btn-xl btn-info" [disabled]="fPersonalData.invalid" (click)="createPersonalData()">
                  {{ 'label.next' | transloco }}
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="currentStep == STEP_CUSTOMER" class="container-fluid mt--7">
  <div class="row">
    <div class="col-xl-8 order-xl-1">
      <div class="card bg-secondary shadow">
        <div class="card-header bg-white border-0">
          <div class="row align-items-center">
            <div class="col-8">
              <h3 class="mb-0">{{ 'label.customer-creation' | transloco }}</h3>
            </div>
            <div class="col-4 text-right">
              <button (click)="goStep(STEP_DOCUMENT_DATA)" class="btn btn-sm btn-warning">{{ 'label.return' | transloco
                }}</button>
            </div>
          </div>
        </div>
        <div class="card-body">
          <form [formGroup]="fCustomer">
            <div class="pl-lg-4">
              <div class="row">
                <div class="col-lg-12">
                  <h3>
                    <span class="badge badge-info">
                      {{ 'label.user-exist' | transloco }}
                    </span>
                  </h3>
                </div>
              </div>
              <div class="row">
                <div class="col-lg-12">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'label.email' | transloco }}</label>
                    <input type="text" class="form-control form-control-alternative" formControlName="cusEmail"
                      required>
                    <span *ngIf="cusEmail.errors" class="badge badge-danger">
                      {{ getErrorMessage(cusEmail) | transloco }}</span>
                  </div>
                </div>
                <div class="col-lg-12">
                    <div class="form-group">
                      <label class="form-control-label">{{ 'label.repeat-email' | transloco }}</label>
                      <input type="text" class="form-control form-control-alternative" formControlName="cusEmailConfirm"
                        required>
                      <span *ngIf="cusEmailConfirm.errors" class="badge badge-danger">
                        {{ getErrorMessage(cusEmailConfirm) | transloco }}</span>
                    </div>
                  </div>
                <div class="col-lg-12">
                  <div class="form-group">
                    <label class="form-control-label">{{ 'label.rol' | transloco }}</label>
                    <select type="text" class="form-control form-control-alternative" formControlName="cusRol">
                      <option value="" selected disabled>{{ 'label.rol' | transloco }}</option>
                      <option *ngFor="let item of customerRoles" value="{{ item.value }}">
                        {{ item.name | transloco }}
                      </option>
                    </select>
                    <span *ngIf="cusRol.errors" class="badge badge-danger">
                      {{ getErrorMessage(cusRol) | transloco }}</span>
                  </div>
                </div>
              </div>
            </div>
            <hr class="my-4" />
            <!-- Button -->

            <div class="pl-lg-4">
              <div class="form-group">
                <button class="btn btn-xl btn-info" [disabled]="fCustomer.invalid" (click)="createCustomer()">
                  {{ 'label.save' | transloco }}
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>